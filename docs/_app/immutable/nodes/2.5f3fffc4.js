import{s as H,f as A,a as T,l as X,A as de,g as D,d as m,c as N,h as C,m as Y,j as v,k as le,x as S,i as w,B as R,n as Z,y as L,C as _e,r as me,u as pe,v as $e,w as ge,D as ne,E as he,e as se,F as re,G as ve,p as ye,H as be,I as ke,J as Ie,o as Ee}from"../chunks/scheduler.3258af2d.js";import{S as U,i as z,a as h,t as y,b,d as k,m as I,e as E,g as fe,c as ce,f as we}from"../chunks/index.310a20e0.js";function oe(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Se(r){let e,l,t,s,o,n;return{c(){e=A("link"),l=T(),t=A("span"),s=X(r[0]),this.h()},l(a){const f=de("svelte-1hirj74",document.head);e=D(f,"LINK",{href:!0,rel:!0}),f.forEach(m),l=N(a),t=D(a,"SPAN",{class:!0,style:!0});var c=C(t);s=Y(c,r[0]),c.forEach(m),this.h()},h(){v(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"),v(e,"rel","stylesheet"),v(t,"class","material-icons-outlined icon svelte-tiyrf3"),le(t,"--color",r[2])},m(a,f){S(document.head,e),w(a,l,f),w(a,t,f),S(t,s),o||(n=R(t,"click",function(){_e(r[1])&&r[1].apply(this,arguments)}),o=!0)},p(a,[f]){r=a,f&1&&Z(s,r[0]),f&4&&le(t,"--color",r[2])},i:L,o:L,d(a){a&&(m(l),m(t)),m(e),o=!1,n()}}}function Ae(r,e,l){let{name:t}=e,{handler:s=()=>{}}=e,{color:o="green"}=e;return r.$$set=n=>{"name"in n&&l(0,t=n.name),"handler"in n&&l(1,s=n.handler),"color"in n&&l(2,o=n.color)},[t,s,o]}class O extends U{constructor(e){super(),z(this,e,Ae,Se,H,{name:0,handler:1,color:2})}}function De(r){let e,l,t;const s=r[2].default,o=me(s,r,r[1],null);return{c(){e=A("div"),o&&o.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=C(e);o&&o.l(a),a.forEach(m),this.h()},h(){v(e,"class",l="cell "+(r[0]?"cell-last":"")+" svelte-gkshno")},m(n,a){w(n,e,a),o&&o.m(e,null),t=!0},p(n,[a]){o&&o.p&&(!t||a&2)&&pe(o,s,n,n[1],t?ge(s,n[1],a,null):$e(n[1]),null),(!t||a&1&&l!==(l="cell "+(n[0]?"cell-last":"")+" svelte-gkshno"))&&v(e,"class",l)},i(n){t||(h(o,n),t=!0)},o(n){y(o,n),t=!1},d(n){n&&m(e),o&&o.d(n)}}}function Te(r,e,l){let{$$slots:t={},$$scope:s}=e,{last:o=!1}=e;return r.$$set=n=>{"last"in n&&l(0,o=n.last),"$$scope"in n&&l(1,s=n.$$scope)},[o,s,t]}class G extends U{constructor(e){super(),z(this,e,Te,De,H,{last:0})}}function Ne(r){let e,l=r[2](r[0])+"",t,s,o,n;return{c(){e=A("span"),t=X(l),this.h()},l(a){e=D(a,"SPAN",{class:!0});var f=C(e);t=Y(f,l),f.forEach(m),this.h()},h(){v(e,"class",s=ne(r[1]?"DISABILITATO":r[2](r[0]))+" svelte-7eepo3")},m(a,f){w(a,e,f),S(e,t),o||(n=R(e,"click",r[3]),o=!0)},p(a,[f]){f&1&&l!==(l=a[2](a[0])+"")&&Z(t,l),f&3&&s!==(s=ne(a[1]?"DISABILITATO":a[2](a[0]))+" svelte-7eepo3")&&v(e,"class",s)},i:L,o:L,d(a){a&&m(e),o=!1,n()}}}function je(r,e,l){let{prio:t=3}=e,{disabled:s=!1}=e;const o=a=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[a],n=()=>{s||l(0,t=(t+1)%3+1)};return r.$$set=a=>{"prio"in a&&l(0,t=a.prio),"disabled"in a&&l(1,s=a.disabled)},[t,s,o,n]}class Ce extends U{constructor(e){super(),z(this,e,je,Ne,H,{prio:0,disabled:1})}}function Ve(r){let e=r[0].id+"",l;return{c(){l=X(e)},l(t){l=Y(t,e)},m(t,s){w(t,l,s)},p(t,s){s&1&&e!==(e=t[0].id+"")&&Z(l,e)},d(t){t&&m(l)}}}function Be(r){let e,l;return e=new O({props:{name:"task_alt",handler:r[2]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){I(e,t,s),l=!0},p:L,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function Oe(r){let e,l;return e=new O({props:{name:"circle",handler:r[2],color:"red"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){I(e,t,s),l=!0},p:L,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function Le(r){let e,l,t,s;const o=[Oe,Be],n=[];function a(f,c){return f[0].done==!1?0:1}return e=a(r),l=n[e]=o[e](r),{c(){l.c(),t=se()},l(f){l.l(f),t=se()},m(f,c){n[e].m(f,c),w(f,t,c),s=!0},p(f,c){let g=e;e=a(f),e===g?n[e].p(f,c):(fe(),y(n[g],1,1,()=>{n[g]=null}),ce(),l=n[e],l?l.p(f,c):(l=n[e]=o[e](f),l.c()),h(l,1),l.m(t.parentNode,t))},i(f){s||(h(l),s=!0)},o(f){y(l),s=!1},d(f){f&&m(t),n[e].d(f)}}}function Pe(r){let e,l,t,s,o;return{c(){e=A("input"),this.h()},l(n){e=D(n,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),this.h()},h(){v(e,"type","text"),v(e,"class",l="todo-item-input-text "+(r[0].done==!0?"text-done":"")+" svelte-v4ljjs"),v(e,"id",t=r[0].id),v(e,"placeholder","Inserisci il nuovo ToDo")},m(n,a){w(n,e,a),re(e,r[0].task),s||(o=[R(e,"input",r[5]),R(e,"change",r[3])],s=!0)},p(n,a){a&1&&l!==(l="todo-item-input-text "+(n[0].done==!0?"text-done":"")+" svelte-v4ljjs")&&v(e,"class",l),a&1&&t!==(t=n[0].id)&&v(e,"id",t),a&1&&e.value!==n[0].task&&re(e,n[0].task)},d(n){n&&m(e),s=!1,ve(o)}}}function Je(r){let e,l,t;function s(n){r[6](n)}let o={disabled:r[0].done};return r[0].priority!==void 0&&(o.prio=r[0].priority),e=new Ce({props:o}),ye.push(()=>we(e,"prio",s)),{c(){b(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,a){I(e,n,a),t=!0},p(n,a){const f={};a&1&&(f.disabled=n[0].done),!l&&a&1&&(l=!0,f.prio=n[0].priority,be(()=>l=!1)),e.$set(f)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Me(r){let e,l;return e=new O({props:{name:"delete_forever",color:"red",handler:r[7]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){I(e,t,s),l=!0},p:L,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function qe(r){let e,l,t,s,o,n,a,f,c,g;return e=new G({props:{$$slots:{default:[Ve]},$$scope:{ctx:r}}}),t=new G({props:{$$slots:{default:[Le]},$$scope:{ctx:r}}}),o=new G({props:{$$slots:{default:[Pe]},$$scope:{ctx:r}}}),a=new G({props:{$$slots:{default:[Je]},$$scope:{ctx:r}}}),c=new G({props:{last:!0,$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),l=T(),b(t.$$.fragment),s=T(),b(o.$$.fragment),n=T(),b(a.$$.fragment),f=T(),b(c.$$.fragment)},l(i){k(e.$$.fragment,i),l=N(i),k(t.$$.fragment,i),s=N(i),k(o.$$.fragment,i),n=N(i),k(a.$$.fragment,i),f=N(i),k(c.$$.fragment,i)},m(i,u){I(e,i,u),w(i,l,u),I(t,i,u),w(i,s,u),I(o,i,u),w(i,n,u),I(a,i,u),w(i,f,u),I(c,i,u),g=!0},p(i,[u]){const M={};u&513&&(M.$$scope={dirty:u,ctx:i}),e.$set(M);const V={};u&513&&(V.$$scope={dirty:u,ctx:i}),t.$set(V);const j={};u&513&&(j.$$scope={dirty:u,ctx:i}),o.$set(j);const q={};u&513&&(q.$$scope={dirty:u,ctx:i}),a.$set(q);const B={};u&512&&(B.$$scope={dirty:u,ctx:i}),c.$set(B)},i(i){g||(h(e.$$.fragment,i),h(t.$$.fragment,i),h(o.$$.fragment,i),h(a.$$.fragment,i),h(c.$$.fragment,i),g=!0)},o(i){y(e.$$.fragment,i),y(t.$$.fragment,i),y(o.$$.fragment,i),y(a.$$.fragment,i),y(c.$$.fragment,i),g=!1},d(i){i&&(m(l),m(s),m(n),m(f)),E(e,i),E(t,i),E(o,i),E(a,i),E(c,i)}}}function He(r,e,l){let{todo:t}=e;const s=he();let o=t.priority;const n=u=>{s("change",{type:u,id:t.id})},a=()=>{l(0,t.done=!t.done,t),n("update")},f=()=>{document.getElementById(t.id).blur(),n("update")};function c(){t.task=this.value,l(0,t)}function g(u){r.$$.not_equal(t.priority,u)&&(t.priority=u,l(0,t))}const i=()=>n("delete");return r.$$set=u=>{"todo"in u&&l(0,t=u.todo)},r.$$.update=()=>{r.$$.dirty&17&&t.priority!=o&&(l(4,o=t.priority),n("update"))},[t,n,a,f,o,c,g,i]}class Ue extends U{constructor(e){super(),z(this,e,He,qe,H,{todo:0})}}function ae(r,e,l){const t=r.slice();return t[6]=e[l],t}function ie(r){let e,l;return e=new Ue({props:{todo:r[6]}}),e.$on("change",r[2]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){I(e,t,s),l=!0},p(t,s){const o={};s&1&&(o.todo=t[6]),e.$set(o)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function ze(r){let e,l="ToDos",t,s,o,n,a,f,c,g,i,u,M,V,j,q,B,P,Q,K;n=new O({props:{name:"tag"}}),c=new O({props:{name:"task_alt"}}),u=new O({props:{name:"list"}}),j=new O({props:{name:"schedule"}}),P=new O({props:{name:"add_box",handler:r[1]}});let J=oe(r[0]),p=[];for(let d=0;d<J.length;d+=1)p[d]=ie(ae(r,J,d));const ue=d=>y(p[d],1,1,()=>{p[d]=null});return{c(){e=A("h1"),e.textContent=l,t=T(),s=A("div"),o=A("div"),b(n.$$.fragment),a=T(),f=A("div"),b(c.$$.fragment),g=T(),i=A("div"),b(u.$$.fragment),M=T(),V=A("div"),b(j.$$.fragment),q=T(),B=A("div"),b(P.$$.fragment),Q=T();for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=D(d,"H1",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-jhkup8"&&(e.textContent=l),t=N(d),s=D(d,"DIV",{class:!0});var _=C(s);o=D(_,"DIV",{class:!0});var $=C(o);k(n.$$.fragment,$),$.forEach(m),a=N(_),f=D(_,"DIV",{class:!0});var F=C(f);k(c.$$.fragment,F),F.forEach(m),g=N(_),i=D(_,"DIV",{class:!0});var x=C(i);k(u.$$.fragment,x),x.forEach(m),M=N(_),V=D(_,"DIV",{class:!0});var ee=C(V);k(j.$$.fragment,ee),ee.forEach(m),q=N(_),B=D(_,"DIV",{class:!0});var te=C(B);k(P.$$.fragment,te),te.forEach(m),Q=N(_);for(let W=0;W<p.length;W+=1)p[W].l(_);_.forEach(m),this.h()},h(){v(e,"class","app_title"),v(o,"class","header svelte-1xy30t7"),v(f,"class","header svelte-1xy30t7"),v(i,"class","header svelte-1xy30t7"),v(V,"class","header svelte-1xy30t7"),v(B,"class","header header-last svelte-1xy30t7"),v(s,"class","todo-list svelte-1xy30t7")},m(d,_){w(d,e,_),w(d,t,_),w(d,s,_),S(s,o),I(n,o,null),S(s,a),S(s,f),I(c,f,null),S(s,g),S(s,i),I(u,i,null),S(s,M),S(s,V),I(j,V,null),S(s,q),S(s,B),I(P,B,null),S(s,Q);for(let $=0;$<p.length;$+=1)p[$]&&p[$].m(s,null);K=!0},p(d,[_]){if(_&5){J=oe(d[0]);let $;for($=0;$<J.length;$+=1){const F=ae(d,J,$);p[$]?(p[$].p(F,_),h(p[$],1)):(p[$]=ie(F),p[$].c(),h(p[$],1),p[$].m(s,null))}for(fe(),$=J.length;$<p.length;$+=1)ue($);ce()}},i(d){if(!K){h(n.$$.fragment,d),h(c.$$.fragment,d),h(u.$$.fragment,d),h(j.$$.fragment,d),h(P.$$.fragment,d);for(let _=0;_<J.length;_+=1)h(p[_]);K=!0}},o(d){y(n.$$.fragment,d),y(c.$$.fragment,d),y(u.$$.fragment,d),y(j.$$.fragment,d),y(P.$$.fragment,d),p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)y(p[_]);K=!1},d(d){d&&(m(e),m(t),m(s)),E(n),E(c),E(u),E(j),E(P),Ie(p,d)}}}function Fe(r,e,l){let t=[],s=0;const o=async()=>{let c={id:++s,task:"",done:!1,priority:3};console.log("CREATE:",c),localStorage.setItem(`todo${c.id}`,JSON.stringify(c)),l(0,t=[...t,c]),Ee(async()=>{for(let g=0;g<localStorage.length;g++){const i=localStorage.key(g),u=JSON.parse(localStorage.getItem(i));u!=null&&t.push(u)}l(0,t=[...t])})},n=async c=>{switch(c.detail.type){case"update":a(c.detail.id);break;case"delete":f(c.detail.id);break}},a=c=>{console.log("Update:",c);const g=t.filter(i=>i.id==c)[0];localStorage.setItem(`todo${c}`,JSON.stringify(g))},f=c=>{console.log("DELETE:",c),l(0,t=t.filter(g=>g.id!=c)),localStorage.removeItem(`todo${c}`)};return[t,o,n]}class Ge extends U{constructor(e){super(),z(this,e,Fe,ze,H,{})}}function Ke(r){let e,l,t;return l=new Ge({}),{c(){e=A("main"),b(l.$$.fragment),this.h()},l(s){e=D(s,"MAIN",{class:!0});var o=C(e);k(l.$$.fragment,o),o.forEach(m),this.h()},h(){v(e,"class","svelte-1029ztb")},m(s,o){w(s,e,o),I(l,e,null),t=!0},p:L,i(s){t||(h(l.$$.fragment,s),t=!0)},o(s){y(l.$$.fragment,s),t=!1},d(s){s&&m(e),E(l)}}}class We extends U{constructor(e){super(),z(this,e,null,Ke,H,{})}}export{We as component};
